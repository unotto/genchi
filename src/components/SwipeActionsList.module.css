:root{ 
  --card:#fff; 
  --muted:#6B7280; 
  --blue:#0077B6; 
  --orange:#FF7043; /* 削除アクション用の新しいオレンジ色 */
  --shadow:0 2px 0 rgba(0,0,0,.10); 
} 

/* ▼ モジュール内の img をグローバル指定から保護 */ 
.swl img{ 
  max-width:none !important; 
  width:auto; 
  height:auto; 
  display:block; 
  object-fit:contain; 
} 

/* リスト */ 
.swl{ 
  list-style:none; 
  margin:12px 0; 
  padding:0; 
  display:flex; 
  flex-direction:column; 
  gap:12px; 
} 

/* 行カード（左に薄いグレー帯あり） */ 
.swl__row{ 
  position:relative; 
  border-radius:16px 0 0 16px; 
  box-shadow: 0 2px 0 rgba(0,0,0,.10); 
  background:var(--card); 
  overflow:hidden; 
  max-height: 200px; /* 削除アニメーションの基準となる最大値を設定 */
  transition: max-height .3s ease, opacity .3s ease, margin .3s ease;

  /* 追加：テキスト選択を防いでドラッグを安定化（見た目は変わらない） */
  -webkit-user-select: none;
  user-select: none;
} 

.swl__row::before{ 
  pointer-events: none;
  content:""; 
  position:absolute; 
  left:0; top:0; bottom:0; 
  width:30px; 
} 

.isLeaving{
  max-height: 0;
  opacity: 0;
  margin-bottom: 0;
}

/* ================================== */
/* SWIPE ACTION: スワイプで出現するオレンジ色の削除ボタン */
/* ================================== */
.swl__deleteAction {
  position: absolute;
  right: 0;
  top: 1%;
  bottom: 0;
  width: 80px; /* JSのDELETE_WIDTHと一致 */
  background-color: var(--orange);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1; /* スワイプ可能コンテンツの下に配置 */
  cursor: pointer;
  border: none;
  padding: 0;
  /* スワイプで隠れないように、元コンテンツと同じ高さにする */
  height: 98%; 
}
.swl__deleteAction img{
  height: auto;
  opacity: 1;
}

/* ================================== */
/* SWIPEABLE CONTENT: transformで動く要素 */
/* ================================== */
.swl__swipeableContent {
  position: relative;
  z-index: 2; /* 削除ボタンの上に配置 */
  background: var(--card); /* 背景を白にして削除ボタンを覆い隠す */
  touch-action: pan-y;
  will-change: transform; /* アニメーションパフォーマンスのヒント */
  cursor: grab;
}

/* 横並び：ハンドル / 本文 / 右端ヒント */ 
.swl__grid{ 
  position:relative; 
  display:grid; 
  grid-template-columns: 34px 1fr 44px; /* 元の3カラム構成を維持 */
  align-items:center; 
  gap:8px; 
  min-height:72px; 
} 

/* 左ハンドル（見た目そのまま＋挙動系だけ追加） */ 
.swl__handle{ 
  position: relative;
  z-index: 3;
  display:grid; 
  place-items:center; 
  padding:10px 2px 10px 0; 
  background: rgba(104, 114, 128, .25);
  border: none; 
  height: 100%;

  /* ▼ 追加：iOS/Androidで“スクロールよりドラッグを優先”させる */
  touch-action: none;
  -ms-touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  cursor: grab;
}
.swl__handle:active { cursor: grabbing; }

/* 追加：ハンドル画像はイベントを透過（親ボタンに命中させる） */
.swl__handle img {
    width:10px !important; 
  height:auto; 
  pointer-events: none;
  -webkit-user-drag: none;
}


/* 本文 */ 
.swl__body{ padding:10px 0; min-width:0; } 
.swl__date{ color:var(--muted); font-size:.82rem; margin-bottom:4px; } 

/* クリック可能な本文（通貨行＋メモのみ） */ 
.swl__bodyBtn{ 
  border:0; 
  background:transparent; 
  text-align:left; 
  padding:0; 
  width:100%; 
  min-width:0; 
  cursor:pointer; 
} 
.swl__bodyBtn:active{ opacity:.9; } 

/* 右20pxでフェード（薄いゴミ箱に被らない） */ 
.swl__contentMask{ 
  overflow:hidden; 
  padding-right:20px; 
  -webkit-mask-image: linear-gradient(to right,#000 0%,#000 calc(100% - 20px),transparent 100%); 
  mask-image: linear-gradient(to right,#000 0%,#000 calc(100% - 20px),transparent 100%); 
} 

.swl__line{ 
  display:flex; 
  align-items:center; 
  gap:10px; 
  font-weight:600; 
  color:var(--blue); 
  white-space:nowrap; 
  overflow:hidden; 
} 
.swl__arrow{ color:#9aa3ad; } 
.swl__money{} 
.em{ color:var(--blue); } 

.swl__memo{ 
  margin-top:4px; 
  color:var(--muted); 
  font-size: 16px; 
  white-space:nowrap; 
  overflow:hidden; 
  text-overflow:ellipsis; 
  word-break:break-word; 
  overflow-wrap:anywhere; 
} 

/* 右端の薄いゴミ箱（装飾のみ） */ 
.swl__hint{ 
  display:grid; 
  place-items:center; 
  padding-right:10px; 
} 
.swl__hint img{ 
  width:20px !important; 
  height:auto; 
  opacity:.55; 
} 

/* ====== モーダル（ポップアップ） ====== */ 
.modalOverlay{ 
  position: fixed; 
  inset: 0; 
  background: rgba(0,0,0,.45); 
  display: grid; 
  place-items: center; 
  z-index: 999; 
} 

.modal{ 
  position: relative; 
  width: calc(100% - 40px); 
  max-width: 420px; 
  overflow: hidden; 
  height: 30vh; 
  background: #fff; 
  border-radius: 18px; 
  box-shadow: 0 20px 60px rgba(0,0,0,.25); 
  padding: 18px 16px 30px; 
} 

.modalScroll { 
  height: 100%; 
  overflow: auto; 
  padding-right: 6px; 

  /* 下に20pxの余白を残してフェードアウト */ 
  -webkit-mask-image: linear-gradient(to bottom, 
    #000 0%, 
    #000 calc(100% - 20px), 
    transparent 100%); 
  -webkit-mask-repeat: no-repeat; 
  -webkit-mask-size: 100% 100%; 

  mask-image: linear-gradient(to bottom, 
    #000 0%, 
    #000 calc(100% - 20px), 
    transparent 100%); 
  mask-repeat: no-repeat; 
  mask-size: 100% 100%; 
} 

.modalClose{ 
  position: absolute; 
  top: 8px; 
  right: 10px; 
  width: 32px; 
  height: 32px; 
  border-radius: 50%; 
  border: 0; 
  background: none; 
  color: #fff; 
  cursor: pointer; 
} 
.modalClose:active{ transform: translateY(1px); } 

/* 中身はスクロール可（長文対応） */ 
.modalScroll{ 
  margin-top: 12px; 
  max-height: calc(80vh - 60px); 
  overflow: auto; 
  padding-right: 6px; /* スクロールバー余白 */ 
  word-break: break-word; 
  overflow-wrap: anywhere; 
} 

.modalDate{ 
  color: #6B7280; 
  font-size: 16px; 
  margin-bottom: 8px; 
} 

.modalLine{ 
  display: flex; 
  align-items: center; 
  gap: 10px; 
  margin-bottom: 12px; 
} 
.modalMoney{ 
  color: #0077B6; 
  font-weight: 700; 
} 
.modalArrow{ color: #9aa3ad; } 

.modalMemo{ 
  color: #333; 
  line-height: 1.6; 
  font-size: 16px; 
  white-space: pre-wrap; /* 改行も表示 */ 
}

/* SortableJS のドラッグ中の見た目 */
.dragging {
  opacity: .6;
}

/* スワイプ時の項目タイトル改善 */
.swipe-title {
  background: linear-gradient(90deg, #0077B6 0%, #0099E0 100%);
  color: #FFFFFF;
  font-weight: 600;
  font-size: 0.95rem;
  padding: 10px 14px;
  border-radius: 8px;
  line-height: 1.4;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

/* 小画面対応：ややフォントを大きく */
@media (max-width: 420px) {
  .swipe-title {
    font-size: 1rem;
    padding: 12px 16px;
  }
}

/* ===== ここからグローバル（Sortableの内部要素に適用） ===== */

/* フォールバックのドラッグ要素は固定配置・最前面で、レイアウトに影響させない */
:global(.sortable-fallback) {
  position: fixed !important;
  z-index: 9999 !important;
  pointer-events: none !important;
  top: 0; 
  left: 0;
}

/* ゴーストは半透明だけ（既存 .dragging と競合しない） */
:global(.sortable-ghost) {
  opacity: .6;
}

